<div class="tag-forms">
  <div class="subitem-title" (click)="expandPanel()">
    <span>
      Tag Images
    </span>
    <span>
      <span style="cursor: pointer"
            (click)="createNewForm()"
            matTooltip="Add New Tag Form"
            style="cursor: pointer; margin-right: 10px"
            matTooltipPosition="above">
        <i class="fas fa-plus"></i>
      </span>
    </span>
  </div> <!-- subitem-title -->

  <div *ngIf="showSubitem" class="subitem">
    <div class="subitem-scroll">

      <div *ngFor = "let form of formList">
        <div class="form-item-container">  
          <div class="name-group"> {{form.label}} ({{form.type}})</div>
          <div class="button-group">
            <div (click)="deleteForm(form)">
              <i class="fas fa-minus"
                 matTooltip="Delete"
                 matTooltipPosition="above"
                 style="cursor: pointer">
              </i>
            </div> <!-- delete button -->

            <div (click)="openRenameOptionModal(renameFormItemModal)">
              <i class="fas fa-edit"
                 matTooltip="Rename"
                 matTooltipPosition="above"
                 style="cursor: pointer">
              </i>
            </div>

            <!-- <div *ngIf="form.type != 'text'">

                 <div (click)="openOptionToggle(form.label)">
                   <i class="fas fa-ellipsis-h"
                      style="cursor: pointer"
                      matTooltip="More Options"
                      matTooltipPosition="above">
                   </i>
                 </div>

            </div> three dots -->

            <ng-template #renameFormItemModal>
              <input matInput #formItemRename
                     [(ngModel)]="newTagValue"
                     value={{form.label}}
                     placeholder="Rename Form Item"
                     (keyup.enter)="renameForm(form)">
              <br/>
              <br/>
              <div class="button-group">
                <button matDialogClose
                        mat-raised-button
                        color="primary" (click)="renameForm(form.label)"
                        >Rename</button>
                <button matDialogClose
                        mat-button>Cancel</button>
              </div> 
            </ng-template> <!-- rename modal -->

          </div> <!-- button group -->
        </div> <!-- form-item-container -->

        <div *ngIf="form.type != 'text' && openOption[form.label]" class="options-container">
          <div *ngFor="let opt of form.options" class="list-group list-suboptions">
            <div>
              {{opt.label}}
            </div>

            <div class="button-group">
              <div (click)="formsService.deleteOpt(activeGroup, opt, form)">
                <i class="fas fa-minus"
                   style="cursor: pointer"
                   matTooltip="Delete"
                   matTooltipPosition="below">
                </i>
              </div>
            </div>  <!-- delete opt button -->

            <div (click)="openRenameOptionModal(renameDeeperOptionModal)">
              <i class="fas fa-edit"
                 matTooltip="Rename"
                 style="cursor: pointer"
                 matTooltipPosition="below">
              </i>
            </div> <!-- rename opt button -->

            <ng-template #renameDeeperOptionModal>
              <input matInput #optionDeeperRename
                     [(ngModel)]="opt.label"
                     placeholder="Rename Option">
              <br/>
              <br/>
              <div class="button-group">
                <button matDialogClose
                        mat-raised-button
                        color="primary"
                        >Rename</button>
                <button matDialogClose
                        mat-button>Cancel</button>
              </div>
            </ng-template> <!-- rename opt modal -->


          </div> <!-- opt loop-->
        </div> <!-- opt container-->
        <!-- <app-form-generator [field]="formList"></app-form-generator> -->
        <app-form-generator (newValue)="setValue($event)" [form]="form"></app-form-generator>

      </div>
      <div *ngIf="formList && formList.length"><button mat-raised-button color="primary" (click)="saveTags()">Save</button></div>
    </div> <!-- subitem scroll -->
  </div> <!--subitem -->

  <ng-template #elseBlock>
    No tag presets for this Group!
  </ng-template>

</div> <!-- tag-forms -->
